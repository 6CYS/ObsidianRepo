# 灵犀问数 (Lingxi Wenshu)

> **企业级智能问数中间件与分析 Agent**

灵犀问数是一款连接企业数据治理资产与大语言模型（LLM）的智能问数（Text-to-Data）平台。通过自然语言交互，帮助业务人员直接获取数据洞察，实现从“人找数据”到“数据找人”的范式转变。

---

## 🚀 核心价值 (Core Values)

*   **查得准**：利用“治理即语义”消除大模型幻觉，确保 SQL 生成的准确性向质量。
*   **可视快**：自动生成 SQL 并智能推荐最合适的图表展示（ECharts）。
*   **资产活**：将静态的数据治理成果转化为动态的 AI 上下文，让数据资产真正服务于业务逻辑。

---

## ✨ 核心特性 (Key Features)

### 1. 治理即语义 (Governance as Semantics)
不直接读取物理数据库 Schema，而是通过元数据注入管道，将经过治理的标准指标、口径定义自动转化为语义模型（MDL）。

### 2. 用管共生 (Usage-Driven Governance)
构建“以管赋能用，以用促管”的双向飞轮。用户的查询热度可生成资产热力图，SQL 修正记录实时回流至治理平台，驱动指标口径持续校准。

### 3. 企业级安全管控
*   **语义级 RLS**：根据用户身份动态注入过滤条件，确保安全红线。
*   **私有化运行**：支持 vLLM + 开源模型完全私有化部署。

---

## 🛠 技术架构 (Technical Architecture)

项目采用 **前后端分离** 与 **Headless BI** 架构，确保了高度的灵活性。

| 架构层级 | 技术选型 | 核心职责 |
| :--- | :--- | :--- |
| **交互层** | Next.js 14, Shadcn/UI, ECharts | 用户意图捕获、流式渲染、可视化展示 |
| **编排层** | FastAPI (Python), LiteLLM | 鉴权、限流、模型统一适配、任务分发 |
| **语义智能层** | Wren Engine, Vanna, Qdrant | 元数据转语义模型、RAG 检索、SQL 生成 |
| **基础设施层** | vLLM, PostgreSQL, Trino | 算力供给(Qwen/DeepSeek)、数据存储 |

---

## 📂 目录导航 (Directory Navigation)

- **[01_需求说明书](./01_需求说明书)**：包含产品基础功能、运营管理、核心对话交互等详细需求文档。
- **[02_关键设计文档](./02_关键设计文档)**：记录项目核心架构与逻辑设计方案。
- **[产品方案全文](./恩核智能问数产品「灵犀问数」产品方案.md)**：深入了解产品的市场定位与核心差异化竞争方案。

### 📊 快速查看架构图
- [灵犀问数交互架构图](./灵犀问数交互架构图.html)
- [灵犀问数技术架构图](./灵犀问数技术架构图.html)
- [灵犀问数产品定位逻辑图](./灵犀问数产品定位逻辑图.html)

---

## 📈 落地路线图 (Roadmap)

1.  **第一阶段 (MVP)**：聚焦单一领域（如销售）验证 Text-to-SQL 闭环，目标准确率 > 80%。
2.  **第二阶段 (产品化)**：实现元数据自动化同步及标准化 SDK 封装，发布 V1.0 平台。
3.  **第三阶段 (成熟期)**：引入异常预警、智能归因等主动分析 Agent，构建虚拟数据分析师。
